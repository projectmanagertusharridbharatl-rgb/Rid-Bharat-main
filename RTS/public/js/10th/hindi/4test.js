const questions = [

    {
        "num": 1,
        "question_en": "\"हास्य रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"हास्य रस\" का स्थायी भाव क्या है?",
        "options_en": ["शोक", "उत्साह", "हास", "क्रोध"],
        "options_hi": ["शोक", "उत्साह", "हास", "क्रोध"],
        "answer": "हास",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 2,
        "question_en": "\"करुण रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"करुण रस\" का स्थायी भाव क्या है?",
        "options_en": ["हास", "रति", "शोक", "क्रोध"],
        "options_hi": ["हास", "रति", "शोक", "क्रोध"],
        "answer": "शोक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 3,
        "question_en": "\"वीर रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"वीर रस\" का स्थायी भाव क्या है?",
        "options_en": ["क्रोध", "उत्साह", "भय", "विस्मय"],
        "options_hi": ["क्रोध", "उत्साह", "भय", "विस्मय"],
        "answer": "उत्साह",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 4,
        "question_en": "\"रौद्र रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"रौद्र रस\" का स्थायी भाव क्या है?",
        "options_en": ["शोक", "क्रोध", "जुगुप्सा", "निर्वेद"],
        "options_hi": ["शोक", "क्रोध", "जुगुप्सा", "निर्वेद"],
        "answer": "क्रोध",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 5,
        "question_en": "\"भयानक रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"भयानक रस\" का स्थायी भाव क्या है?",
        "options_en": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "options_hi": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "answer": "भय",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 6,
        "question_en": "\"वीभत्स रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"वीभत्स रस\" का स्थायी भाव क्या है?",
        "options_en": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "options_hi": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "answer": "जुगुप्सा",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 7,
        "question_en": "\"अद्भुत रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"अद्भुत रस\" का स्थायी भाव क्या है?",
        "options_en": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "options_hi": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "answer": "विस्मय",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 8,
        "question_en": "\"शांत रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"शांत रस\" का स्थायी भाव क्या है?",
        "options_en": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "options_hi": ["भय", "जुगुप्सा", "विस्मय", "निर्वेद"],
        "answer": "निर्वेद",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 9,
        "question_en": "\"वात्सल्य रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"वात्सल्य रस\" का स्थायी भाव क्या है?",
        "options_en": ["रति", "स्नेह", "शोक", "उत्साह"],
        "options_hi": ["रति", "स्नेह", "शोक", "उत्साह"],
        "answer": "स्नेह",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 10,
        "question_en": "\"भक्ति रस\" का स्थायी भाव क्या है?",
        "question_hi": "\"भक्ति रस\" का स्थायी भाव क्या है?",
        "options_en": ["भय", "जुगुप्सा", "विस्मय", "अनुराग"],
        "options_hi": ["भय", "जुगुप्सा", "विस्मय", "अनुराग"],
        "answer": "अनुराग",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 11,
        "question_en": "\"छंद\" का अर्थ क्या है?",
        "question_hi": "\"छंद\" का अर्थ क्या है?",
        "options_en": ["कविता की लय और ताल", "कहानी का प्रकार", "नाटक का रूप", "निबंध का विषय"],
        "options_hi": ["कविता की लय और ताल", "कहानी का प्रकार", "नाटक का रूप", "निबंध का विषय"],
        "answer": "कविता की लय और ताल",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 12,
        "question_en": "\"मात्रिक छंद\" में किसकी गणना होती है?",
        "question_hi": "\"मात्रिक छंद\" में किसकी गणना होती है?",
        "options_en": ["अक्षरों की", "मात्राओं की", "शब्दों की", "पंक्तियों की"],
        "options_hi": ["अक्षरों की", "मात्राओं की", "शब्दों की", "पंक्तियों की"],
        "answer": "मात्राओं की",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 13,
        "question_en": "\"वर्णिक छंद\" में किसकी गणना होती है?",
        "question_hi": "\"वर्णिक छंद\" में किसकी गणना होती है?",
        "options_en": ["मात्राओं की", "अक्षरों की", "शब्दों की", "पंक्तियों की"],
        "options_hi": ["मात्राओं की", "अक्षरों की", "शब्दों की", "पंक्तियों की"],
        "answer": "अक्षरों की",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 14,
        "question_en": "\"दोहा\" किस प्रकार का छंद है?",
        "question_hi": "\"दोहा\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "options_hi": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "answer": "मात्रिक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 15,
        "question_en": "\"सोरठा\" किस प्रकार का छंद है?",
        "question_hi": "\"सोरठा\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "options_hi": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "answer": "मात्रिक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 16,
        "question_en": "\"चौपाई\" किस प्रकार का छंद है?",
        "question_hi": "\"चौपाई\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "options_hi": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "answer": "मात्रिक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 17,
        "question_en": "\"सवैया\" किस प्रकार का छंद है?",
        "question_hi": "\"सवैया\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "options_hi": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "answer": "वर्णिक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 18,
        "question_en": "\"कुंडलिया\" किस प्रकार का छंद है?",
        "question_hi": "\"कुंडलिया\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "options_hi": ["मात्रिक", "वर्णिक", "मुक्तक", "अमुक्तक"],
        "answer": "मात्रिक",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 19,
        "question_en": "\"मुक्तक\" किस प्रकार का छंद है?",
        "question_hi": "\"मुक्तक\" किस प्रकार का छंद है?",
        "options_en": ["मात्रिक", "वर्णिक", "नियमों से मुक्त", "नियमों से बंधा"],
        "options_hi": ["मात्रिक", "वर्णिक", "नियमों से मुक्त", "नियमों से बंधा"],
        "answer": "नियमों से मुक्त",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 20,
        "question_en": "\"पंक्ति\" का बहुवचन क्या है?",
        "question_hi": "\"पंक्ति\" का बहुवचन क्या है?",
        "options_en": ["पंक्ति", "पंक्तियाँ", "पंक्तियों", "पंक्तिओं"],
        "options_hi": ["पंक्ति", "पंक्तियाँ", "पंक्तियों", "पंक्तिओं"],
        "answer": "पंक्तियाँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 21,
        "question_en": "\"कहानी\" का बहुवचन क्या है?",
        "question_hi": "\"कहानी\" का बहुवचन क्या है?",
        "options_en": ["कहानी", "कहानियाँ", "कहानियों", "कहानीओं"],
        "options_hi": ["कहानी", "कहानियाँ", "कहानियों", "कहानीओं"],
        "answer": "कहानियाँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 22,
        "question_en": "\"पुस्तक\" का बहुवचन क्या है?",
        "question_hi": "\"पुस्तक\" का बहुवचन क्या है?",
        "options_en": ["पुस्तक", "पुस्तकें", "पुस्तकों", "पुस्तके"],
        "options_hi": ["पुस्तक", "पुस्तकें", "पुस्तकों", "पुस्तके"],
        "answer": "पुस्तकें",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 23,
        "question_en": "\"नदी\" का बहुवचन क्या है?",
        "question_hi": "\"नदी\" का बहुवचन क्या है?",
        "options_en": ["नदी", "नदियाँ", "नदियों", "नदीओं"],
        "options_hi": ["नदी", "नदियाँ", "नदियों", "नदीओं"],
        "answer": "नदियाँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 24,
        "question_en": "\"वधू\" का बहुवचन क्या है?",
        "question_hi": "\"वधू\" का बहुवचन क्या है?",
        "options_en": ["वधू", "वधुएँ", "वधुओं", "वधुयें"],
        "options_hi": ["वधू", "वधुएँ", "वधुओं", "वधुयें"],
        "answer": "वधुएँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 25,
        "question_en": "\"वस्तु\" का बहुवचन क्या है?",
        "question_hi": "\"वस्तु\" का बहुवचन क्या है?",
        "options_en": ["वस्तु", "वस्तुएँ", "वस्तुओं", "वस्तुयें"],
        "options_hi": ["वस्तु", "वस्तुएँ", "वस्तुओं", "वस्तुयें"],
        "answer": "वस्तुएँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 26,
        "question_en": "\"ऋतु\" का बहुवचन क्या है?",
        "question_hi": "\"ऋतु\" का बहुवचन क्या है?",
        "options_en": ["ऋतु", "ऋतुएँ", "ऋतुओं", "ऋतुयें"],
        "options_hi": ["ऋतु", "ऋतुएँ", "ऋतुओं", "ऋतुयें"],
        "answer": "ऋतुएँ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 27,
        "question_en": "\"आँसू\" का बहुवचन क्या है?",
        "question_hi": "\"आँसू\" का बहुवचन क्या है?",
        "options_en": ["आँसू", "आँसुए", "आँसुओं", "आँसुयें"],
        "options_hi": ["आँसू", "आँसुए", "आँसुओं", "आँसुयें"],
        "answer": "आँसू",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 28,
        "question_en": "\"प्राण\" का बहुवचन क्या है?",
        "question_hi": "\"प्राण\" का बहुवचन क्या है?",
        "options_en": ["प्राण", "प्राणे", "प्राणों", "प्राणें"],
        "options_hi": ["प्राण", "प्राणे", "प्राणों", "प्राणें"],
        "answer": "प्राण",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 29,
        "question_en": "\"समाचार\" का बहुवचन क्या है?",
        "question_hi": "\"समाचार\" का बहुवचन क्या है?",
        "options_en": ["समाचार", "समाचारें", "समाचारों", "समाचारें"],
        "options_hi": ["समाचार", "समाचारें", "समाचारों", "समाचारें"],
        "answer": "समाचार",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 30,
        "question_en": "\"आदर\" का विलोम शब्द क्या है?",
        "question_hi": "\"आदर\" का विलोम शब्द क्या है?",
        "options_en": ["सम्मान", "अनादर", "सत्कार", "इज्जत"],
        "options_hi": ["सम्मान", "अनादर", "सत्कार", "इज्जत"],
        "answer": "अनादर",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 31,
        "question_en": "\"आकाश\" का विलोम शब्द क्या है?",
        "question_hi": "\"आकाश\" का विलोम शब्द क्या है?",
        "options_en": ["नभ", "पाताल", "अंबर", "गगन"],
        "options_hi": ["नभ", "पाताल", "अंबर", "गगन"],
        "answer": "पाताल",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 32,
        "question_en": "\"अमृत\" का विलोम शब्द क्या है?",
        "question_hi": "\"अमृत\" का विलोम शब्द क्या है?",
        "options_en": ["सुधा", "विष", "पीयूष", "सोम"],
        "options_hi": ["सुधा", "विष", "पीयूष", "सोम"],
        "answer": "विष",
        "attempted": false,
        "selected": ""
    },

    {
        "num": 33,
        "question_en": "\"अंधकार\" का विलोम शब्द क्या है?",
        "question_hi": "\"अंधकार\" का विलोम शब्द क्या है?",
        "options_en": ["तम", "प्रकाश", "अँधेरा", "कालिमा"],
        "options_hi": ["तम", "प्रकाश", "अँधेरा", "कालिमा"],
        "answer": "प्रकाश",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 34,
        "question_en": "\"अज्ञानी\" का विलोम शब्द क्या है?",
        "question_hi": "\"अज्ञानी\" का विलोम शब्द क्या है?",
        "options_en": ["मूर्ख", "नासमझ", "ज्ञानी", "बेवकूफ"],
        "options_hi": ["मूर्ख", "नासमझ", "ज्ञानी", "बेवकूफ"],
        "answer": "ज्ञानी",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 35,
        "question_en": "\"अपना\" का विलोम शब्द क्या है?",
        "question_hi": "\"अपना\" का विलोम शब्द क्या है?",
        "options_en": ["स्वयं", "दूसरा", "पराया", "व्यक्तिगत"],
        "options_hi": ["स्वयं", "दूसरा", "पराया", "व्यक्तिगत"],
        "answer": "पराया",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 36,
        "question_en": "\"अमीर\" का विलोम शब्द क्या है?",
        "question_hi": "\"अमीर\" का विलोम शब्द क्या है?",
        "options_en": ["धनी", "रईस", "गरीब", "निर्धन"],
        "options_hi": ["धनी", "रईस", "गरीब", "निर्धन"],
        "answer": "गरीब",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 37,
        "question_en": "\"आलसी\" का विलोम शब्द क्या है?",
        "question_hi": "\"आलसी\" का विलोम शब्द क्या है?",
        "options_en": ["सुस्त", "निकम्मा", "कर्मठ", "बेकार"],
        "options_hi": ["सुस्त", "निकम्मा", "कर्मठ", "बेकार"],
        "answer": "कर्मठ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 38,
        "question_en": "\"आसान\" का विलोम शब्द क्या है?",
        "question_hi": "\"आसान\" का विलोम शब्द क्या है?",
        "options_en": ["सरल", "सहज", "कठिन", "सुगम"],
        "options_hi": ["सरल", "सहज", "कठिन", "सुगम"],
        "answer": "कठिन",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 39,
        "question_en": "\"इच्छा\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"इच्छा\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["अनिच्छा", "कामना", "अभाव", "आवश्यकता"],
        "options_hi": ["अनिच्छा", "कामना", "अभाव", "आवश्यकता"],
        "answer": "कामना",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 40,
        "question_en": "\"कमल\" का पर्यायवाची शब्द नहीं है:",
        "question_hi": "\"कमल\" का पर्यायवाची शब्द नहीं है:",
        "options_en": ["पंकज", "जलज", "सरोज", "अनल"],
        "options_hi": ["पंकज", "जलज", "सरोज", "अनल"],
        "answer": "अनल",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 41,
        "question_en": "\"आग\" का पर्यायवाची शब्द नहीं है:",
        "question_hi": "\"आग\" का पर्यायवाची शब्द नहीं है:",
        "options_en": ["अग्नि", "ज्वाला", "नीर", "दहन"],
        "options_hi": ["अग्नि", "ज्वाला", "नीर", "दहन"],
        "answer": "नीर",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 42,
        "question_en": "\"बादल\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"बादल\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["पवन", "वायु", "मेघ", "हवा"],
        "options_hi": ["पवन", "वायु", "मेघ", "हवा"],
        "answer": "मेघ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 43,
        "question_en": "\"सूर्य\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"सूर्य\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["चंद्रमा", "तारा", "रवि", "ग्रह"],
        "options_hi": ["चंद्रमा", "तारा", "रवि", "ग्रह"],
        "answer": "रवि",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 44,
        "question_en": "\"पृथ्वी\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"पृथ्वी\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["आकाश", "अंबर", "भूमि", "गगन"],
        "options_hi": ["आकाश", "अंबर", "भूमि", "गगन"],
        "answer": "भूमि",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 45,
        "question_en": "\"पानी\" का पर्यायवाची शब्द नहीं है:",
        "question_hi": "\"पानी\" का पर्यायवाची शब्द नहीं है:",
        "options_en": ["जल", "नीर", "तोय", "अनल"],
        "options_hi": ["जल", "नीर", "तोय", "अनल"],
        "answer": "अनल",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 46,
        "question_en": "\"वन\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"वन\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["घर", "नगर", "अरण्य", "ग्राम"],
        "options_hi": ["घर", "नगर", "अरण्य", "ग्राम"],
        "answer": "अरण्य",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 47,
        "question_en": "\"हाथी\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"हाथी\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["घोड़ा", "ऊँट", "गज", "बैल"],
        "options_hi": ["घोड़ा", "ऊँट", "गज", "बैल"],
        "answer": "गज",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 48,
        "question_en": "\"मित्र\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"मित्र\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["शत्रु", "दुश्मन", "सखा", "अरि"],
        "options_hi": ["शत्रु", "दुश्मन", "सखा", "अरि"],
        "answer": "सखा",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 49,
        "question_en": "\"स्त्री\" का पर्यायवाची शब्द क्या है?",
        "question_hi": "\"स्त्री\" का पर्यायवाची शब्द क्या है?",
        "options_en": ["पुरुष", "मर्द", "नारी", "आदमी"],
        "options_hi": ["पुरुष", "मर्द", "नारी", "आदमी"],
        "answer": "नारी",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 50,
        "question_en": "\"घर\" का पर्यायवाची शब्द नहीं है:",
        "question_hi": "\"घर\" का पर्यायवाची शब्द नहीं है:",
        "options_en": ["गृह", "सदन", "भवन", "आकाश"],
        "options_hi": ["गृह", "सदन", "भवन", "आकाश"],
        "answer": "आकाश",
        "attempted": false,
        "selected": ""
    }



];


// Add more questions as needed...

let currentQuestion = 0;
let language = "en"; // Default English
const circlesPerPage = 70;
let currentCirclePage = 0;
let timeLeft = 300;
let timerInterval;

function loadQuestion(index) {
    const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
    const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

    document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
    document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    optionsArray.forEach(option => {
        optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
    });

    updateCircles();
}

function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateCircles();
}

function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function updateCircles() {
    const circleContainer = document.getElementById("circleContainer");
    circleContainer.innerHTML = "";
    const start = currentCirclePage * circlesPerPage;
    const end = Math.min(start + circlesPerPage, questions.length);

    for (let i = start; i < end; i++) {
        const q = questions[i];
        let status = i === currentQuestion ? "active" : q.attempted ? "answered" : "not-attempted";
        circleContainer.innerHTML += `<div class="circle ${status}" onclick="jumpToQuestion(${i})">${i + 1}</div>`;
    }
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

function prevCirclePage() {
    if (currentCirclePage > 0) {
        currentCirclePage--;
        updateCircles();
    }
}

function nextCirclePage() {
    if ((currentCirclePage + 1) * circlesPerPage < questions.length) {
        currentCirclePage++;
        updateCircles();
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0, notAttempted = 0, score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer) score++;
        } else {
            notAttempted++;
        }
        results.push({ question: q.question_en, selected: q.selected || "Not Answered", correct: q.answer });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

function startTimer() {
    const timerElement = document.getElementById("timer");
    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Submitting the quiz automatically.");
            submitQuiz();
        } else {
            timerElement.textContent = timeLeft;
            timeLeft--;
        }
    }, 1000);
}

window.onload = function () {
    startTimer();
    loadQuestion(currentQuestion);
};