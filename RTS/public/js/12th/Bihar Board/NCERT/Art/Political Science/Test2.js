const questions = [
    {
        "num": 1,
        "question_en": "Who is the head of the State Government in India?",
        "question_hi": "भारत में राज्य सरकार का प्रमुख कौन होता है?",
        "options_en": ["President", "Governor", "Chief Minister", "Speaker"],
        "options_hi": ["राष्ट्रपति", "राज्यपाल", "मुख्यमंत्री", "सभापति"],
        "answer": "Chief Minister",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 2,
        "question_en": "What is the maximum strength of the Lok Sabha?",
        "question_hi": "लोकसभा की अधिकतम सदस्य संख्या कितनी है?",
        "options_en": ["500", "525", "545", "552"],
        "options_hi": ["500", "525", "545", "552"],
        "answer": "552",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 3,
        "question_en": "Who appoints the Chief Election Commissioner of India?",
        "question_hi": "भारत के मुख्य चुनाव आयुक्त की नियुक्ति कौन करता है?",
        "options_en": ["Prime Minister", "President", "Chief Justice", "Parliament"],
        "options_hi": ["प्रधानमंत्री", "राष्ट्रपति", "मुख्य न्यायाधीश", "संसद"],
        "answer": "President",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 4,
        "question_en": "Which institution is known as the guardian of the Constitution?",
        "question_hi": "संविधान का संरक्षक किसे कहा जाता है?",
        "options_en": ["President", "Supreme Court", "Prime Minister", "Parliament"],
        "options_hi": ["राष्ट्रपति", "सुप्रीम कोर्ट", "प्रधानमंत्री", "संसद"],
        "answer": "Supreme Court",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 5,
        "question_en": "Which of the following is not a part of the Union Executive?",
        "question_hi": "निम्नलिखित में से कौन संघ कार्यपालिका का हिस्सा नहीं है?",
        "options_en": ["President", "Vice President", "Prime Minister", "Governor"],
        "options_hi": ["राष्ट्रपति", "उप-राष्ट्रपति", "प्रधानमंत्री", "राज्यपाल"],
        "answer": "Governor",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 6,
        "question_en": "Who presides over the Rajya Sabha?",
        "question_hi": "राज्यसभा की अध्यक्षता कौन करता है?",
        "options_en": ["President", "Prime Minister", "Vice President", "Speaker"],
        "options_hi": ["राष्ट्रपति", "प्रधानमंत्री", "उप-राष्ट्रपति", "सभापति"],
        "answer": "Vice President",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 7,
        "question_en": "Which schedule of the Constitution contains the Anti-Defection Law?",
        "question_hi": "संविधान की कौन सी अनुसूची दल-बदल विरोधी कानून से संबंधित है?",
        "options_en": ["7th", "9th", "10th", "11th"],
        "options_hi": ["सातवीं", "नौवीं", "दसवीं", "ग्यारहवीं"],
        "answer": "10th",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 8,
        "question_en": "Which part of the Indian Constitution deals with Fundamental Rights?",
        "question_hi": "भारतीय संविधान का कौन सा भाग मौलिक अधिकारों से संबंधित है?",
        "options_en": ["Part I", "Part II", "Part III", "Part IV"],
        "options_hi": ["भाग I", "भाग II", "भाग III", "भाग IV"],
        "answer": "Part III",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 9,
        "question_en": "Which amendment made Right to Education a Fundamental Right?",
        "question_hi": "कौन सा संशोधन शिक्षा के अधिकार को मौलिक अधिकार बनाता है?",
        "options_en": ["42nd", "44th", "86th", "91st"],
        "options_hi": ["42वां", "44वां", "86वां", "91वां"],
        "answer": "86th",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 10,
        "question_en": "How many members can the President nominate to the Rajya Sabha?",
        "question_hi": "राष्ट्रपति राज्यसभा में कितने सदस्यों को नामित कर सकता है?",
        "options_en": ["10", "12", "14", "15"],
        "options_hi": ["10", "12", "14", "15"],
        "answer": "12",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 11,
        "question_en": "Which body conducts elections in India?",
        "question_hi": "भारत में चुनाव कौन कराता है?",
        "options_en": ["Election Commission", "Parliament", "Supreme Court", "Cabinet"],
        "options_hi": ["चुनाव आयोग", "संसद", "सुप्रीम कोर्ट", "मंत्रिमंडल"],
        "answer": "Election Commission",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 12,
        "question_en": "How many types of emergencies are mentioned in the Indian Constitution?",
        "question_hi": "भारतीय संविधान में कितने प्रकार की आपातकालीन स्थितियाँ वर्णित हैं?",
        "options_en": ["One", "Two", "Three", "Four"],
        "options_hi": ["एक", "दो", "तीन", "चार"],
        "answer": "Three",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 13,
        "question_en": "Which body recommends the creation of a new All India Service?",
        "question_hi": "नई अखिल भारतीय सेवा के गठन की सिफारिश कौन करता है?",
        "options_en": ["Parliament", "President", "Rajya Sabha", "Supreme Court"],
        "options_hi": ["संसद", "राष्ट्रपति", "राज्यसभा", "सुप्रीम कोर्ट"],
        "answer": "Rajya Sabha",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 14,
        "question_en": "Who appoints the judges of the Supreme Court?",
        "question_hi": "सुप्रीम कोर्ट के न्यायाधीशों की नियुक्ति कौन करता है?",
        "options_en": ["Prime Minister", "Chief Justice", "President", "Parliament"],
        "options_hi": ["प्रधानमंत्री", "मुख्य न्यायाधीश", "राष्ट्रपति", "संसद"],
        "answer": "President",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 15,
        "question_en": "What is the term of the Lok Sabha?",
        "question_hi": "लोकसभा का कार्यकाल कितना होता है?",
        "options_en": ["4 years", "5 years", "6 years", "Until dissolved"],
        "options_hi": ["4 वर्ष", "5 वर्ष", "6 वर्ष", "भंग होने तक"],
        "answer": "5 years",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 16,
        "question_en": "What is the minimum age to become a member of the Lok Sabha?",
        "question_hi": "लोकसभा का सदस्य बनने के लिए न्यूनतम आयु क्या है?",
        "options_en": ["18 years", "21 years", "25 years", "30 years"],
        "options_hi": ["18 वर्ष", "21 वर्ष", "25 वर्ष", "30 वर्ष"],
        "answer": "25 years",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 17,
        "question_en": "Who among the following is a part of the Union Legislature?",
        "question_hi": "निम्नलिखित में से कौन संघीय विधायिका का हिस्सा है?",
        "options_en": ["President", "Rajya Sabha", "Lok Sabha", "All of the above"],
        "options_hi": ["राष्ट्रपति", "राज्यसभा", "लोकसभा", "उपरोक्त सभी"],
        "answer": "All of the above",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 18,
        "question_en": "Which body is responsible for making laws at the state level?",
        "question_hi": "राज्य स्तर पर कानून बनाने के लिए कौन सा निकाय जिम्मेदार है?",
        "options_en": ["Parliament", "High Court", "State Legislature", "Governor"],
        "options_hi": ["संसद", "हाई कोर्ट", "राज्य विधानमंडल", "राज्यपाल"],
        "answer": "State Legislature",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 19,
        "question_en": "The Council of Ministers is headed by?",
        "question_hi": "मंत्रिपरिषद का प्रमुख कौन होता है?",
        "options_en": ["President", "Vice President", "Prime Minister", "Home Minister"],
        "options_hi": ["राष्ट्रपति", "उप-राष्ट्रपति", "प्रधानमंत्री", "गृह मंत्री"],
        "answer": "Prime Minister",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 20,
        "question_en": "Which article of the Indian Constitution deals with the emergency provisions?",
        "question_hi": "भारतीय संविधान का कौन सा अनुच्छेद आपातकालीन प्रावधानों से संबंधित है?",
        "options_en": ["Article 356", "Article 370", "Article 15", "Article 21"],
        "options_hi": ["अनुच्छेद 356", "अनुच्छेद 370", "अनुच्छेद 15", "अनुच्छेद 21"],
        "answer": "Article 356",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 21,
        "question_en": "What is the minimum age for becoming the President of India?",
        "question_hi": "भारत का राष्ट्रपति बनने के लिए न्यूनतम आयु कितनी होनी चाहिए?",
        "options_en": ["25 years", "30 years", "35 years", "40 years"],
        "options_hi": ["25 वर्ष", "30 वर्ष", "35 वर्ष", "40 वर्ष"],
        "answer": "35 years",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 22,
        "question_en": "In which year was the Constitution of India adopted?",
        "question_hi": "भारत का संविधान किस वर्ष अपनाया गया था?",
        "options_en": ["1947", "1948", "1950", "1949"],
        "options_hi": ["1947", "1948", "1950", "1949"],
        "answer": "1949",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 23,
        "question_en": "Which of the following is not a Fundamental Right?",
        "question_hi": "निम्नलिखित में से कौन एक मौलिक अधिकार नहीं है?",
        "options_en": ["Right to Equality", "Right to Freedom", "Right to Vote", "Right to Constitutional Remedies"],
        "options_hi": ["समानता का अधिकार", "स्वतंत्रता का अधिकार", "मतदान का अधिकार", "संवैधानिक उपचारों का अधिकार"],
        "answer": "Right to Vote",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 24,
        "question_en": "Which commission recommends the distribution of taxes between the Centre and States?",
        "question_hi": "केंद्र और राज्यों के बीच करों के वितरण की सिफारिश कौन करता है?",
        "options_en": ["Finance Commission", "Planning Commission", "Election Commission", "UPSC"],
        "options_hi": ["वित्त आयोग", "योजना आयोग", "चुनाव आयोग", "संघ लोक सेवा आयोग"],
        "answer": "Finance Commission",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 25,
        "question_en": "Which of these is NOT a component of the Indian Constitution?",
        "question_hi": "इनमें से कौन भारतीय संविधान का घटक नहीं है?",
        "options_en": ["Preamble", "Schedules", "Articles", "Penal Code"],
        "options_hi": ["प्रस्तावना", "अनुसूचियाँ", "अनुच्छेद", "दंड संहिता"],
        "answer": "Penal Code",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 26,
        "question_en": "What does the term 'Cold War' refer to?",
        "question_hi": "'शीत युद्ध' शब्द किसे दर्शाता है?",
        "options_en": ["Military conflict", "Economic war", "Ideological conflict without direct war", "Civil war"],
        "options_hi": ["सैन्य संघर्ष", "आर्थिक युद्ध", "प्रत्यक्ष युद्ध के बिना वैचारिक संघर्ष", "गृह युद्ध"],
        "answer": "Ideological conflict without direct war",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 27,
        "question_en": "When was the United Nations established?",
        "question_hi": "संयुक्त राष्ट्र की स्थापना कब हुई थी?",
        "options_en": ["1940", "1945", "1950", "1935"],
        "options_hi": ["1940", "1945", "1950", "1935"],
        "answer": "1945",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 28,
        "question_en": "Which two countries were the superpowers during the Cold War?",
        "question_hi": "शीत युद्ध के दौरान कौन से दो देश महाशक्ति थे?",
        "options_en": ["USA and China", "USA and USSR", "USSR and Germany", "USA and UK"],
        "options_hi": ["अमेरिका और चीन", "अमेरिका और सोवियत संघ", "सोवियत संघ और जर्मनी", "अमेरिका और यूके"],
        "answer": "USA and USSR",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 29,
        "question_en": "Which policy aimed at preventing the spread of communism?",
        "question_hi": "कौन सी नीति साम्यवाद के प्रसार को रोकने का लक्ष्य रखती थी?",
        "options_en": ["Expansion", "Appeasement", "Containment", "Neutrality"],
        "options_hi": ["विस्तार", "तुष्टिकरण", "नियंत्रण", "तटस्थता"],
        "answer": "Containment",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 30,
        "question_en": "Who was the first Secretary-General of the United Nations?",
        "question_hi": "संयुक्त राष्ट्र के पहले महासचिव कौन थे?",
        "options_en": ["U Thant", "Trygve Lie", "Dag Hammarskjöld", "Kofi Annan"],
        "options_hi": ["यू थांट", "ट्रिग्वे ली", "डैग हैमरशोल्ड", "कोफी अन्नान"],
        "answer": "Trygve Lie",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 31,
        "question_en": "Which country followed the policy of non-alignment during the Cold War?",
        "question_hi": "शीत युद्ध के दौरान किस देश ने गुटनिरपेक्ष नीति अपनाई?",
        "options_en": ["USA", "USSR", "India", "China"],
        "options_hi": ["अमेरिका", "सोवियत संघ", "भारत", "चीन"],
        "answer": "India",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 32,
        "question_en": "The Non-Aligned Movement was formally started in which year?",
        "question_hi": "गुटनिरपेक्ष आंदोलन औपचारिक रूप से किस वर्ष शुरू हुआ था?",
        "options_en": ["1955", "1961", "1945", "1971"],
        "options_hi": ["1955", "1961", "1945", "1971"],
        "answer": "1961",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 33,
        "question_en": "Which leader is not associated with the Non-Aligned Movement?",
        "question_hi": "निम्न में से कौन गुटनिरपेक्ष आंदोलन से संबंधित नहीं है?",
        "options_en": ["Jawaharlal Nehru", "Josip Broz Tito", "Kwame Nkrumah", "Winston Churchill"],
        "options_hi": ["जवाहरलाल नेहरू", "जोसिप ब्रोज़ टीटो", "क्वामे एनक्रूमा", "विंस्टन चर्चिल"],
        "answer": "Winston Churchill",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 34,
        "question_en": "What is meant by 'deterrence' in Cold War politics?",
        "question_hi": "शीत युद्ध की राजनीति में 'प्रतिरोध' का क्या अर्थ है?",
        "options_en": ["Encouraging war", "Preventing war through fear of retaliation", "Building alliances", "Promoting peace talks"],
        "options_hi": ["युद्ध को प्रोत्साहित करना", "प्रतिशोध के डर से युद्ध को रोकना", "गठबंधन बनाना", "शांति वार्ता को बढ़ावा देना"],
        "answer": "Preventing war through fear of retaliation",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 35,
        "question_en": "Which country emerged as the sole superpower after the Cold War?",
        "question_hi": "शीत युद्ध के बाद कौन सा देश एकमात्र महाशक्ति बनकर उभरा?",
        "options_en": ["Russia", "USA", "China", "UK"],
        "options_hi": ["रूस", "अमेरिका", "चीन", "यूके"],
        "answer": "USA",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 36,
        "question_en": "Which organization came into existence in 1991 after the disintegration of USSR?",
        "question_hi": "यूएसएसआर के विघटन के बाद 1991 में कौन सा संगठन अस्तित्व में आया?",
        "options_en": ["NATO", "European Union", "CIS", "SAARC"],
        "options_hi": ["नाटो", "यूरोपीय संघ", "सीआईएस", "सार्क"],
        "answer": "CIS",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 37,
        "question_en": "Which of the following is not a permanent member of the UN Security Council?",
        "question_hi": "निम्न में से कौन संयुक्त राष्ट्र सुरक्षा परिषद का स्थायी सदस्य नहीं है?",
        "options_en": ["USA", "France", "Germany", "Russia"],
        "options_hi": ["अमेरिका", "फ्रांस", "जर्मनी", "रूस"],
        "answer": "Germany",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 38,
        "question_en": "What was the main objective of the Marshall Plan?",
        "question_hi": "मार्शल योजना का मुख्य उद्देश्य क्या था?",
        "options_en": ["To spread communism", "To rebuild Europe after WWII", "To divide Germany", "To strengthen USSR"],
        "options_hi": ["साम्यवाद फैलाना", "WWII के बाद यूरोप का पुनर्निर्माण", "जर्मनी को विभाजित करना", "सोवियत संघ को मजबूत करना"],
        "answer": "To rebuild Europe after WWII",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 39,
        "question_en": "Who coined the term 'Iron Curtain'?",
        "question_hi": "'आयरन कर्टन' शब्द किसने गढ़ा था?",
        "options_en": ["Stalin", "Truman", "Churchill", "Kennedy"],
        "options_hi": ["स्टालिन", "ट्रूमैन", "चर्चिल", "कैनेडी"],
        "answer": "Churchill",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 40,
        "question_en": "Which of these countries was part of the Eastern Bloc?",
        "question_hi": "इनमें से कौन सा देश पूर्वी गुट का हिस्सा था?",
        "options_en": ["USA", "UK", "Poland", "France"],
        "options_hi": ["अमेरिका", "यूके", "पोलैंड", "फ्रांस"],
        "answer": "Poland",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 41,
        "question_en": "What is the full form of NATO?",
        "question_hi": "NATO का पूरा नाम क्या है?",
        "options_en": ["North Atlantic Treaty Organization", "New Asia Trade Organization", "National Allied Treaty Organization", "None of the above"],
        "options_hi": ["नॉर्थ अटलांटिक ट्रीटी ऑर्गनाइजेशन", "न्यू एशिया ट्रेड ऑर्गनाइजेशन", "नेशनल अलायड ट्रीटी ऑर्गनाइजेशन", "उपरोक्त में से कोई नहीं"],
        "answer": "North Atlantic Treaty Organization",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 42,
        "question_en": "Who was the US President during the Cuban Missile Crisis?",
        "question_hi": "क्यूबा मिसाइल संकट के समय अमेरिका के राष्ट्रपति कौन थे?",
        "options_en": ["Nixon", "Kennedy", "Eisenhower", "Truman"],
        "options_hi": ["निक्सन", "कैनेडी", "आइजनहावर", "ट्रूमैन"],
        "answer": "Kennedy",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 43,
        "question_en": "Which country was divided into East and West after WWII?",
        "question_hi": "WWII के बाद कौन सा देश पूर्व और पश्चिम में विभाजित हुआ था?",
        "options_en": ["Italy", "France", "Germany", "Poland"],
        "options_hi": ["इटली", "फ्रांस", "जर्मनी", "पोलैंड"],
        "answer": "Germany",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 44,
        "question_en": "Which ideology was promoted by the USSR?",
        "question_hi": "यूएसएसआर द्वारा किस विचारधारा को बढ़ावा दिया गया था?",
        "options_en": ["Capitalism", "Monarchy", "Communism", "Democracy"],
        "options_hi": ["पूंजीवाद", "राजतंत्र", "साम्यवाद", "लोकतंत्र"],
        "answer": "Communism",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 45,
        "question_en": "Where was the first NAM summit held?",
        "question_hi": "पहला गुटनिरपेक्ष सम्मेलन कहाँ आयोजित हुआ था?",
        "options_en": ["Belgrade", "New Delhi", "Cairo", "Jakarta"],
        "options_hi": ["बेलग्रेड", "नई दिल्ली", "काहिरा", "जकार्ता"],
        "answer": "Belgrade",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 46,
        "question_en": "Which country initiated the Warsaw Pact?",
        "question_hi": "किस देश ने वारसा संधि शुरू की थी?",
        "options_en": ["USA", "France", "USSR", "China"],
        "options_hi": ["अमेरिका", "फ्रांस", "सोवियत संघ", "चीन"],
        "answer": "USSR",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 47,
        "question_en": "Which Indian PM is known for active participation in NAM?",
        "question_hi": "गुटनिरपेक्ष आंदोलन में सक्रिय भागीदारी के लिए कौन से भारतीय प्रधानमंत्री प्रसिद्ध हैं?",
        "options_en": ["Rajiv Gandhi", "Lal Bahadur Shastri", "Indira Gandhi", "Jawaharlal Nehru"],
        "options_hi": ["राजीव गांधी", "लाल बहादुर शास्त्री", "इंदिरा गांधी", "जवाहरलाल नेहरू"],
        "answer": "Jawaharlal Nehru",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 48,
        "question_en": "Which policy allows countries to maintain independence from major power blocs?",
        "question_hi": "कौन सी नीति देशों को प्रमुख शक्तियों से स्वतंत्र रहने की अनुमति देती है?",
        "options_en": ["Colonialism", "Non-alignment", "Alliance", "Imperialism"],
        "options_hi": ["औपनिवेशिकता", "गुटनिरपेक्षता", "गठबंधन", "साम्राज्यवाद"],
        "answer": "Non-alignment",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 49,
        "question_en": "Which of the following is a goal of the United Nations?",
        "question_hi": "निम्नलिखित में से कौन संयुक्त राष्ट्र का उद्देश्य है?",
        "options_en": ["Promote war", "Ensure world peace", "Encourage arms race", "None"],
        "options_hi": ["युद्ध को बढ़ावा देना", "विश्व शांति सुनिश्चित करना", "हथियारों की दौड़ को बढ़ावा देना", "कोई नहीं"],
        "answer": "Ensure world peace",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 50,
        "question_en": "Which Indian leader opposed joining any military alliance?",
        "question_hi": "किस भारतीय नेता ने किसी सैन्य गठबंधन में शामिल होने का विरोध किया था?",
        "options_en": ["Sardar Patel", "Nehru", "Subhash Chandra Bose", "Mahatma Gandhi"],
        "options_hi": ["सरदार पटेल", "नेहरू", "सुभाष चंद्र बोस", "महात्मा गांधी"],
        "answer": "Nehru",
        "attempted": false,
        "selected": ""
      }
    // Continue adding more questions up to 30
];

// Add more questions as needed...

let currentQuestion = 0;
let language = "en"; // Default English
const circlesPerPage = 70;
let currentCirclePage = 0;
let timeLeft = 300;
let timerInterval;

function loadQuestion(index) {
    const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
    const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

    document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
    document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    optionsArray.forEach(option => {
        optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
    });

    updateCircles();
}

function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateCircles();
}

function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function updateCircles() {
    const circleContainer = document.getElementById("circleContainer");
    circleContainer.innerHTML = "";
    const start = currentCirclePage * circlesPerPage;
    const end = Math.min(start + circlesPerPage, questions.length);

    for (let i = start; i < end; i++) {
        const q = questions[i];
        let status = i === currentQuestion ? "active" : q.attempted ? "answered" : "not-attempted";
        circleContainer.innerHTML += `<div class="circle ${status}" onclick="jumpToQuestion(${i})">${i + 1}</div>`;
    }
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

function prevCirclePage() {
    if (currentCirclePage > 0) {
        currentCirclePage--;
        updateCircles();
    }
}

function nextCirclePage() {
    if ((currentCirclePage + 1) * circlesPerPage < questions.length) {
        currentCirclePage++;
        updateCircles();
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0, notAttempted = 0, score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer) score++;
        } else {
            notAttempted++;
        }
        results.push({ question: q.question_en, selected: q.selected || "Not Answered", correct: q.answer });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

function startTimer() {
    const timerElement = document.getElementById("timer");
    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Submitting the quiz automatically.");
            submitQuiz();
        } else {
            timerElement.textContent = timeLeft;
            timeLeft--;
        }
    }, 1000);
}

window.onload = function () {
    startTimer();
    loadQuestion(currentQuestion);
};
