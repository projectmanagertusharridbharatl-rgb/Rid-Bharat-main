<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results</title>
    <link rel="stylesheet" href="/RTS/public/css/results/results.css">
</head>
<body>
    <div class="container">
        <h2>Quiz Results</h2>
        <p class="score-section">
            Attempted: <span id="attempted"></span> | Not Attempted: <span id="notAttempted"></span> | Score: <span id="score"></span>
        </p>
        <table>
            <thead>
                <tr>
                    <th>Q.No</th>
                    <th>Question</th>
                    <th>Your Answer</th>
                    <th>Correct Answer</th>
                </tr>
            </thead>
            <tbody id="resultsTable"></tbody>
        </table>
    </div>
    <script>
        function loadResults() {
            // Get values from localStorage
            const attempted = localStorage.getItem("attempted") || 0;
            const notAttempted = localStorage.getItem("notAttempted") || 0;
            const score = localStorage.getItem("score") || 0;
            
            document.getElementById("attempted").textContent = attempted;
            document.getElementById("notAttempted").textContent = notAttempted;
            document.getElementById("score").textContent = score;

            // Get results from localStorage
            let results = JSON.parse(localStorage.getItem("results")) || [];
            console.log("Loaded Results: ", results); // Debugging purpose

            const resultsTable = document.getElementById("resultsTable");
            resultsTable.innerHTML = ""; // Clear previous results

            if (results.length === 0) {
                resultsTable.innerHTML = `<tr><td colspan="4">No results available</td></tr>`;
                return;
            }
            results.forEach((result, index) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${result.question}</td>
                    <td class="${result.selected === result.correct ? 'correct' : 'wrong'}">
                        ${result.selected || '<i>Not Attempted</i>'}
                    </td>
                    <td class="correct">${result.correct}</td>
                `;
                resultsTable.appendChild(row);
            });
        }
        function restartQuiz() {
            localStorage.clear();
            window.location.href = "index.html"; // Redirect to start quiz
        }
        window.onload = loadResults;
    </script>
</body>
</html> 
