const questions=[
  {
    "num": 1,
    "question_en": "What is the output of print(type([])) in Python?",
    "options_en": ["<class 'list'>", "<class 'tuple'>", "<class 'dict'>", "<class 'set'>"],
    "answer_en": "<class 'list'>",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 2,
    "question_en": "What keyword is used to define a function in Python?",
    "options_en": ["func", "define", "def", "function"],
    "answer_en": "def",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 3,
    "question_en": "Which method adds an element to the end of a list?",
    "options_en": ["append()", "add()", "insert()", "extend()"],
    "answer_en": "append()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 4,
    "question_en": "How do you start a comment in Python?",
    "options_en": ["//", "#", "/*", "--"],
    "answer_en": "#",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 5,
    "question_en": "Which data type is immutable?",
    "options_en": ["list", "set", "tuple", "dict"],
    "answer_en": "tuple",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 6,
    "question_en": "What does the len() function do?",
    "options_en": ["Returns length of an object", "Converts to integer", "Adds elements", "Prints output"],
    "answer_en": "Returns length of an object",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 7,
    "question_en": "What does the range(5) function generate?",
    "options_en": ["Numbers from 1 to 5", "Numbers from 0 to 4", "Numbers from 0 to 5", "Numbers from 1 to 4"],
    "answer_en": "Numbers from 0 to 4",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 8,
    "question_en": "Which operator is used for exponentiation in Python?",
    "options_en": ["^", "**", "%", "//"],
    "answer_en": "**",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 9,
    "question_en": "What is the output of bool('')?",
    "options_en": ["True", "False", "Error", "None"],
    "answer_en": "False",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 10,
    "question_en": "What is the correct way to create a dictionary?",
    "options_en": ["{}", "[]", "()", "<>"],
    "answer_en": "{}",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 11,
    "question_en": "Which of these is a Python keyword?",
    "options_en": ["then", "fun", "lambda", "foreach"],
    "answer_en": "lambda",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 12,
    "question_en": "What will print(2 ** 3) output?",
    "options_en": ["6", "8", "9", "5"],
    "answer_en": "8",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 13,
    "question_en": "How do you insert an element at a specific position in a list?",
    "options_en": ["append()", "add()", "insert()", "extend()"],
    "answer_en": "insert()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 14,
    "question_en": "What is the output of 3 // 2?",
    "options_en": ["1.5", "1", "2", "0"],
    "answer_en": "1",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 15,
    "question_en": "Which function converts a string to an integer?",
    "options_en": ["int()", "str()", "float()", "bool()"],
    "answer_en": "int()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 16,
    "question_en": "What does the 'break' statement do in loops?",
    "options_en": ["Skips current iteration", "Exits the loop", "Starts the loop", "Continues to next iteration"],
    "answer_en": "Exits the loop",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 17,
    "question_en": "Which method removes the last item from a list?",
    "options_en": ["pop()", "remove()", "del()", "discard()"],
    "answer_en": "pop()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 18,
    "question_en": "What is the output of 5 % 2?",
    "options_en": ["2", "1", "0", "3"],
    "answer_en": "1",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 19,
    "question_en": "Which statement is used to handle exceptions?",
    "options_en": ["try-except", "if-else", "for-while", "switch-case"],
    "answer_en": "try-except",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 20,
    "question_en": "How do you create a set in Python?",
    "options_en": ["{}", "set()", "[]", "()"],
    "answer_en": "set()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 21,
    "question_en": "What is the output of print('Hello'[1])?",
    "options_en": ["H", "e", "l", "o"],
    "answer_en": "e",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 22,
    "question_en": "Which method converts all characters in a string to lowercase?",
    "options_en": ["lower()", "upper()", "capitalize()", "title()"],
    "answer_en": "lower()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 23,
    "question_en": "How do you check if a key exists in a dictionary?",
    "options_en": ["in operator", "has_key()", "exists()", "contains()"],
    "answer_en": "in operator",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 24,
    "question_en": "Which of the following is mutable?",
    "options_en": ["string", "tuple", "list", "int"],
    "answer_en": "list",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 25,
    "question_en": "What will print(type(())) output?",
    "options_en": ["<class 'list'>", "<class 'tuple'>", "<class 'dict'>", "<class 'set'>"],
    "answer_en": "<class 'tuple'>",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 26,
    "question_en": "What is the output of bool(0)?",
    "options_en": ["True", "False", "None", "Error"],
    "answer_en": "False",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 27,
    "question_en": "What does the zip() function do?",
    "options_en": ["Combines elements from multiple iterables", "Sorts lists", "Filters elements", "Creates a dictionary"],
    "answer_en": "Combines elements from multiple iterables",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 28,
    "question_en": "Which statement is used to define a class in Python?",
    "options_en": ["def", "class", "struct", "module"],
    "answer_en": "class",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 29,
    "question_en": "How do you write a multi-line string?",
    "options_en": ["Using ''' or \"\"\"", "Using //", "Using ##", "Using \\n"],
    "answer_en": "Using ''' or \"\"\"",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 30,
    "question_en": "What is a correct syntax to import a module named math?",
    "options_en": ["import math", "include math", "using math", "require math"],
    "answer_en": "import math",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 31,
    "question_en": "What does `enumerate()` do in Python?",
    "options_en": ["Returns index and item pairs", "Sorts the list", "Filters a list", "Creates a dictionary"],
    "answer_en": "Returns index and item pairs",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 32,
    "question_en": "Which built-in function returns the largest item?",
    "options_en": ["max()", "min()", "largest()", "top()"],
    "answer_en": "max()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 33,
    "question_en": "What is the output of print(10 // 3)?",
    "options_en": ["3.33", "3", "4", "None"],
    "answer_en": "3",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 34,
    "question_en": "Which operator is used for floor division?",
    "options_en": ["//", "/", "%", "**"],
    "answer_en": "//",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 35,
    "question_en": "What is the result of 'Python' + '3'?",
    "options_en": ["Python3", "Python 3", "Python+3", "Error"],
    "answer_en": "Python3",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 36,
    "question_en": "Which method splits a string into a list?",
    "options_en": ["split()", "join()", "strip()", "replace()"],
    "answer_en": "split()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 37,
    "question_en": "How to open a file for reading in Python?",
    "options_en": ["open('file.txt', 'r')", "open('file.txt', 'w')", "open('file.txt', 'a')", "open('file.txt', 'x')"],
    "answer_en": "open('file.txt', 'r')",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 38,
    "question_en": "What is the output of print(type(None))?",
    "options_en": ["<class 'NoneType'>", "<class 'null'>", "<class 'void'>", "<class 'empty'>"],
    "answer_en": "<class 'NoneType'>",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 39,
    "question_en": "Which method returns a list of keys in a dictionary?",
    "options_en": ["keys()", "items()", "values()", "all()"],
    "answer_en": "keys()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 40,
    "question_en": "How do you convert a list to a tuple?",
    "options_en": ["tuple(list)", "list(tuple)", "set(list)", "dict(list)"],
    "answer_en": "tuple(list)",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 41,
    "question_en": "Which built-in function is used to get user input?",
    "options_en": ["input()", "raw_input()", "scan()", "read()"],
    "answer_en": "input()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 42,
    "question_en": "What will print(type(True)) output?",
    "options_en": ["<class 'bool'>", "<class 'int'>", "<class 'str'>", "<class 'NoneType'>"],
    "answer_en": "<class 'bool'>",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 43,
    "question_en": "Which function returns the smallest item?",
    "options_en": ["min()", "max()", "smallest()", "lowest()"],
    "answer_en": "min()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 44,
    "question_en": "What does the 'continue' statement do in a loop?",
    "options_en": ["Stops the loop", "Skips to next iteration", "Exits the program", "Restarts the loop"],
    "answer_en": "Skips to next iteration",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 45,
    "question_en": "Which method removes whitespace from the beginning and end of a string?",
    "options_en": ["strip()", "trim()", "cut()", "remove()"],
    "answer_en": "strip()",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 46,
    "question_en": "How do you create a virtual environment in Python 3?",
    "options_en": ["python3 -m venv env", "virtualenv env", "create env", "py -env"],
    "answer_en": "python3 -m venv env",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 47,
    "question_en": "What is the purpose of the pass statement?",
    "options_en": ["Does nothing, placeholder", "Exits a function", "Stops a loop", "Throws an error"],
    "answer_en": "Does nothing, placeholder",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 48,
    "question_en": "What does the map() function do?",
    "options_en": ["Applies a function to all items", "Filters items", "Creates a list", "Sorts items"],
    "answer_en": "Applies a function to all items",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 49,
    "question_en": "How can you concatenate two lists?",
    "options_en": ["Using + operator", "Using * operator", "Using & operator", "Using .join()"],
    "answer_en": "Using + operator",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 50,
    "question_en": "Which keyword is used to create an anonymous function?",
    "options_en": ["lambda", "def", "fun", "anon"],
    "answer_en": "lambda",
    "attempted": false,
    "selected": ""
  }
];


let currentQuestion = 0;
let language = "en"; // Default English
let timeLeft = 10800; // 5-minute timer
let timerInterval;

function loadQuestion(index) {
        const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
        const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

        document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
        document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";

        optionsArray.forEach(option => {
                optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
        });

        updateNavigation();
}

function markAttempted(index, selectedAnswer) {
        questions[index].attempted = true;
        questions[index].selected = selectedAnswer;
        updateNavigation();
}

function nextQuestion() {
        if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
        }
}

function prevQuestion() {
        if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
        }
}

function changeLanguage() {
        language = document.getElementById("languageSelect").value;
        loadQuestion(currentQuestion);
}

function submitQuiz() {
        let confirmation = confirm("Are you sure you want to submit the test?");
        if (!confirmation) return;

        clearInterval(timerInterval);

        let attempted = 0, notAttempted = 0, score = 0;
        const results = [];

        questions.forEach(q => {
                if (q.attempted) {
                        attempted++;
                        if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                                score++;
                        }
                } else {
                        notAttempted++;
                }
                results.push({ question: q.question_en, selected: q.selected || "Not Answered", correct: q.answer_en });
        });

        localStorage.setItem("attempted", attempted);
        localStorage.setItem("notAttempted", notAttempted);
        localStorage.setItem("score", score);
        localStorage.setItem("results", JSON.stringify(results));

        let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
        if (viewResult) {
                window.location.href = "/RTS/Public/Deshbord/category/test/submit-test.html";
        }
}

function startTimer() {
        const timerElement = document.getElementById("timer");
        timeLeft = 180 * 60; // Convert 180 minutes to seconds (180 × 60)

        timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert("Time's up! Submitting the quiz automatically.");
                        submitQuiz();
                } else {
                        const hours = Math.floor(timeLeft / 3600);
                        const minutes = Math.floor((timeLeft % 3600) / 60);
                        const seconds = timeLeft % 60;

                        // Format as HH:MM:SS with leading zeros
                        timerElement.textContent = `Time Left: ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                        timeLeft--;
                }
        }, 1000);
}
function updateNavigation() {
        const navElement = document.getElementById("circleContainer");
        navElement.innerHTML = "";

        questions.forEach((q, index) => {
                let color = "gray"; // Default not visited
                if (q.attempted) {
                        color = "green"; // Answered
                }
                if (q.selected === "") {
                        color = "gray"; // Not answered
                }
                if (index === currentQuestion) {
                        color = "blue"; // Current question
                }
                navElement.innerHTML += `<div class='circle' style='background-color: ${color};' onclick='loadQuestion(${index})'>${index + 1}</div>`;
        });
}

window.onload = function () {
        loadQuestion(currentQuestion);
        startTimer();
};