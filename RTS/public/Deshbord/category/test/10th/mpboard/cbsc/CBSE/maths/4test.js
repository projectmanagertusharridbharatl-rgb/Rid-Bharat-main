const questions = [

    {
        "num": 1,
        "question_en": "The distance between the points (2, 3) and (4, 1) is:",
        "question_hi": "बिंदुओं (2, 3) और (4, 1) के बीच की दूरी है:",
        "options_en": ["√8", "2√2", "√10", "2√3"],
        "options_hi": ["√8", "2√2", "√10", "2√3"],
        "answer": "2√2",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 2,
        "question_en": "The roots of the quadratic equation x² - 3x - 10 = 0 are:",
        "question_hi": "द्विघात समीकरण x² - 3x - 10 = 0 के मूल हैं:",
        "options_en": ["2, -5", "-2, 5", "3, -10", "-3, 10"],
        "options_hi": ["2, -5", "-2, 5", "3, -10", "-3, 10"],
        "answer": "-2, 5",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 3,
        "question_en": "The value of sin²30° + cos²30° is:",
        "question_hi": "sin²30° + cos²30° का मान है:",
        "options_en": ["0", "1", "2", "√3/2"],
        "options_hi": ["0", "1", "2", "√3/2"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 4,
        "question_en": "The HCF of 12 and 18 is:",
        "question_hi": "12 और 18 का महत्तम समापवर्तक (HCF) है:",
        "options_en": ["2", "3", "6", "12"],
        "options_hi": ["2", "3", "6", "12"],
        "answer": "6",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 5,
        "question_en": "The decimal expansion of 13/8 will terminate after how many places?",
        "question_hi": "13/8 का दशमलव प्रसार कितने स्थानों के बाद समाप्त होगा?",
        "options_en": ["1", "2", "3", "4"],
        "options_hi": ["1", "2", "3", "4"],
        "answer": "3",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 6,
        "question_en": "The pair of equations x + 2y = 5 and 3x + 6y = 15 represents:",
        "question_hi": "समीकरणों का युग्म x + 2y = 5 और 3x + 6y = 15 निरूपित करता है:",
        "options_en": ["Intersecting lines", "Parallel lines", "Coincident lines", "None of these"],
        "options_hi": ["प्रतिच्छेदी रेखाएँ", "समांतर रेखाएँ", "संपाती रेखाएँ", "इनमें से कोई नहीं"],
        "answer": "Coincident lines",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 7,
        "question_en": "The sum of first n natural numbers is given by:",
        "question_hi": "प्रथम n प्राकृतिक संख्याओं का योग दिया जाता है:",
        "options_en": ["n(n+1)/2", "n(n-1)/2", "n²", "2n"],
        "options_hi": ["n(n+1)/2", "n(n-1)/2", "n²", "2n"],
        "answer": "n(n+1)/2",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 8,
        "question_en": "The probability of getting an even number when a die is rolled is:",
        "question_hi": "एक पासा फेंकने पर सम संख्या आने की प्रायिकता है:",
        "options_en": ["1/6", "1/3", "1/2", "2/3"],
        "options_hi": ["1/6", "1/3", "1/2", "2/3"],
        "answer": "1/2",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 9,
        "question_en": "The volume of a sphere with radius 3 cm is: (π=22/7)",
        "question_hi": "3 cm त्रिज्या वाले गोले का आयतन है: (π=22/7)",
        "options_en": ["88 cm³", "113.14 cm³", "108 cm³", "97.14 cm³"],
        "options_hi": ["88 cm³", "113.14 cm³", "108 cm³", "97.14 cm³"],
        "answer": "113.14 cm³",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 10,
        "question_en": "The discriminant of the quadratic equation 2x² - 4x + 3 = 0 is:",
        "question_hi": "द्विघात समीकरण 2x² - 4x + 3 = 0 का विविक्तकर है:",
        "options_en": ["-8", "8", "16", "-16"],
        "options_hi": ["-8", "8", "16", "-16"],
        "answer": "-8",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 11,
        "question_en": "The common difference of the AP: 10, 7, 4, 1,... is:",
        "question_hi": "समांतर श्रेणी 10, 7, 4, 1,... का सार्व अंतर है:",
        "options_en": ["3", "-3", "4", "-4"],
        "options_hi": ["3", "-3", "4", "-4"],
        "answer": "-3",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 12,
        "question_en": "The value of tan(45°) is:",
        "question_hi": "tan(45°) का मान है:",
        "options_en": ["0", "1", "1/√2", "√3"],
        "options_hi": ["0", "1", "1/√2", "√3"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 13,
        "question_en": "The midpoint of the line segment joining (1, 3) and (5, 7) is:",
        "question_hi": "(1, 3) और (5, 7) को मिलाने वाले रेखाखंड का मध्यबिंदु है:",
        "options_en": ["(3, 5)", "(2, 4)", "(6, 10)", "(4, 6)"],
        "options_hi": ["(3, 5)", "(2, 4)", "(6, 10)", "(4, 6)"],
        "answer": "(3, 5)",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 14,
        "question_en": "The ratio in which the point (2, y) divides the line segment joining (4, 3) and (6, 3) is:",
        "question_hi": "बिंदु (2, y), बिंदुओं (4, 3) और (6, 3) को मिलाने वाले रेखाखंड को किस अनुपात में विभाजित करता है?",
        "options_en": ["1:1", "1:2", "2:1", "1:3"],
        "options_hi": ["1:1", "1:2", "2:1", "1:3"],
        "answer": "1:1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 15,
        "question_en": "The area of a circle with diameter 14 cm is: (π=22/7)",
        "question_hi": "14 cm व्यास वाले वृत्त का क्षेत्रफल है: (π=22/7)",
        "options_en": ["154 cm²", "44 cm²", "616 cm²", "308 cm²"],
        "options_hi": ["154 cm²", "44 cm²", "616 cm²", "308 cm²"],
        "answer": "154 cm²",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 16,
        "question_en": "The value of (1 + tan²θ) is equal to:",
        "question_hi": "(1 + tan²θ) का मान बराबर है:",
        "options_en": ["sin²θ", "cos²θ", "sec²θ", "cosec²θ"],
        "options_hi": ["sin²θ", "cos²θ", "sec²θ", "cosec²θ"],
        "answer": "sec²θ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 17,
        "question_en": "The LCM of 12 and 15 is:",
        "question_hi": "12 और 15 का लघुत्तम समापवर्त्य (LCM) है:",
        "options_en": ["30", "60", "90", "120"],
        "options_hi": ["30", "60", "90", "120"],
        "answer": "60",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 18,
        "question_en": "The quadratic polynomial whose zeroes are 2 and -3 is:",
        "question_hi": "द्विघात बहुपद जिसके शून्यक 2 और -3 हैं, वह है:",
        "options_en": ["x² - x - 6", "x² + x - 6", "x² - 5x + 6", "x² + 5x + 6"],
        "options_hi": ["x² - x - 6", "x² + x - 6", "x² - 5x + 6", "x² + 5x + 6"],
        "answer": "x² + x - 6",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 19,
        "question_en": "The pair of equations y = 0 and y = -7 has:",
        "question_hi": "समीकरणों का युग्म y = 0 और y = -7 का है:",
        "options_en": ["One solution", "Two solutions", "Infinitely many solutions", "No solution"],
        "options_hi": ["एक हल", "दो हल", "अनंत हल", "कोई हल नहीं"],
        "answer": "No solution",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 20,
        "question_en": "The sum of the angles of a quadrilateral is:",
        "question_hi": "एक चतुर्भुज के कोणों का योग है:",
        "options_en": ["180°", "270°", "360°", "540°"],
        "options_hi": ["180°", "270°", "360°", "540°"],
        "answer": "360°",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 21,
        "question_en": "The value of cos(90° - θ) is equal to:",
        "question_hi": "cos(90° - θ) का मान बराबर है:",
        "options_en": ["cosθ", "sinθ", "tanθ", "cosecθ"],
        "options_hi": ["cosθ", "sinθ", "tanθ", "cosecθ"],
        "answer": "sinθ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 22,
        "question_en": "The point which lies on the line y = 2x + 3 is:",
        "question_hi": "वह बिंदु जो रेखा y = 2x + 3 पर स्थित है:",
        "options_en": ["(1, 5)", "(2, 3)", "(0, 0)", "(-1, 1)"],
        "options_hi": ["(1, 5)", "(2, 3)", "(0, 0)", "(-1, 1)"],
        "answer": "(1, 5)",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 23,
        "question_en": "The mode of the data: 3, 5, 7, 4, 2, 1, 4, 3, 4 is:",
        "question_hi": "आँकड़ों 3, 5, 7, 4, 2, 1, 4, 3, 4 का बहुलक है:",
        "options_en": ["7", "4", "3", "1"],
        "options_hi": ["7", "4", "3", "1"],
        "answer": "4",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 24,
        "question_en": "The probability of an impossible event is:",
        "question_hi": "एक असंभव घटना की प्रायिकता है:",
        "options_en": ["0", "1", "0.5", "Not defined"],
        "options_hi": ["0", "1", "0.5", "परिभाषित नहीं"],
        "answer": "0",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 25,
        "question_en": "The curved surface area of a cylinder with radius 7 cm and height 10 cm is: (π=22/7)",
        "question_hi": "7 cm त्रिज्या और 10 cm ऊँचाई वाले बेलन का वक्र पृष्ठीय क्षेत्रफल है: (π=22/7)",
        "options_en": ["220 cm²", "440 cm²", "880 cm²", "1540 cm²"],
        "options_hi": ["220 cm²", "440 cm²", "880 cm²", "1540 cm²"],
        "answer": "440 cm²",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 26,
        "question_en": "The value of √6 × √24 is:",
        "question_hi": "√6 × √24 का मान है:",
        "options_en": ["6", "12", "24", "144"],
        "options_hi": ["6", "12", "24", "144"],
        "answer": "12",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 27,
        "question_en": "The ratio of the volumes of two spheres is 8:27. The ratio of their surface areas is:",
        "question_hi": "दो गोलों के आयतनों का अनुपात 8:27 है। उनके पृष्ठीय क्षेत्रफलों का अनुपात है:",
        "options_en": ["2:3", "4:9", "8:27", "16:81"],
        "options_hi": ["2:3", "4:9", "8:27", "16:81"],
        "answer": "4:9",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 28,
        "question_en": "The value of (sin30° + cos60°) is:",
        "question_hi": "(sin30° + cos60°) का मान है:",
        "options_en": ["0", "1/2", "1", "2"],
        "options_hi": ["0", "1/2", "1", "2"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 29,
        "question_en": "The coordinates of the point which divides the line segment joining (1, -2) and (4, 7) internally in the ratio 1:2 are:",
        "question_hi": "बिंदु (1, -2) और (4, 7) को मिलाने वाले रेखाखंड को आंतरिक रूप से 1:2 के अनुपात में विभाजित करने वाले बिंदु के निर्देशांक हैं:",
        "options_en": ["(2, 1)", "(3, 3)", "(5, 4)", "(6, 5)"],
        "options_hi": ["(2, 1)", "(3, 3)", "(5, 4)", "(6, 5)"],
        "answer": "(2, 1)",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 30,
        "question_en": "The nature of roots of the quadratic equation x² - 4x + 4 = 0 is:",
        "question_hi": "द्विघात समीकरण x² - 4x + 4 = 0 के मूलों की प्रकृति है:",
        "options_en": ["Real and distinct", "Real and equal", "Imaginary", "None of these"],
        "options_hi": ["वास्तविक और भिन्न", "वास्तविक और समान", "काल्पनिक", "इनमें से कोई नहीं"],
        "answer": "Real and equal",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 31,
        "question_en": "The 10th term of the AP: 5, 1, -3, -7,... is:",
        "question_hi": "समांतर श्रेणी 5, 1, -3, -7,... का 10वाँ पद है:",
        "options_en": ["-31", "-27", "-23", "31"],
        "options_hi": ["-31", "-27", "-23", "31"],
        "answer": "-31",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 32,
        "question_en": "The value of cot(45°) is:",
        "question_hi": "cot(45°) का मान है:",
        "options_en": ["0", "1", "1/√2", "√3"],
        "options_hi": ["0", "1", "1/√2", "√3"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 33,
        "question_en": "The area of a triangle with vertices (0, 0), (4, 0) and (0, 3) is:",
        "question_hi": "शीर्षों (0, 0), (4, 0) और (0, 3) वाले त्रिभुज का क्षेत्रफल है:",
        "options_en": ["6 square units", "12 square units", "7.5 square units", "5 square units"],
        "options_hi": ["6 वर्ग इकाई", "12 वर्ग इकाई", "7.5 वर्ग इकाई", "5 वर्ग इकाई"],
        "answer": "6 square units",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 34,
        "question_en": "The value of (tanθ × cotθ) is:",
        "question_hi": "(tanθ × cotθ) का मान है:",
        "options_en": ["0", "1", "sinθ", "cosθ"],
        "options_hi": ["0", "1", "sinθ", "cosθ"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 35,
        "question_en": "The perimeter of a semicircle with radius 7 cm is: (π=22/7)",
        "question_hi": "7 cm त्रिज्या वाले अर्धवृत्त का परिमाप है: (π=22/7)",
        "options_en": ["22 cm", "36 cm", "44 cm", "58 cm"],
        "options_hi": ["22 cm", "36 cm", "44 cm", "58 cm"],
        "answer": "36 cm",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 36,
        "question_en": "The value of (1 - sin²θ) is equal to:",
        "question_hi": "(1 - sin²θ) का मान बराबर है:",
        "options_en": ["cos²θ", "tan²θ", "cot²θ", "sec²θ"],
        "options_hi": ["cos²θ", "tan²θ", "cot²θ", "sec²θ"],
        "answer": "cos²θ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 37,
        "question_en": "The sum of the first 10 natural numbers is:",
        "question_hi": "प्रथम 10 प्राकृतिक संख्याओं का योग है:",
        "options_en": ["45", "50", "55", "60"],
        "options_hi": ["45", "50", "55", "60"],
        "answer": "55",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 38,
        "question_en": "The probability of getting a head when a coin is tossed once is:",
        "question_hi": "एक सिक्के को एक बार उछालने पर चित आने की प्रायिकता है:",
        "options_en": ["0", "1/4", "1/2", "1"],
        "options_hi": ["0", "1/4", "1/2", "1"],
        "answer": "1/2",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 39,
        "question_en": "The volume of a cone with radius 7 cm and height 12 cm is: (π=22/7)",
        "question_hi": "7 cm त्रिज्या और 12 cm ऊँचाई वाले शंकु का आयतन है: (π=22/7)",
        "options_en": ["264 cm³", "616 cm³", "924 cm³", "1232 cm³"],
        "options_hi": ["264 cm³", "616 cm³", "924 cm³", "1232 cm³"],
        "answer": "616 cm³",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 40,
        "question_en": "The value of √(9 + √(16)) is:",
        "question_hi": "√(9 + √(16)) का मान है:",
        "options_en": ["5", "√13", "7", "√25"],
        "options_hi": ["5", "√13", "7", "√25"],
        "answer": "5",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 41,
        "question_en": "The ratio of the areas of two similar triangles is 9:16. The ratio of their corresponding sides is:",
        "question_hi": "दो समरूप त्रिभुजों के क्षेत्रफलों का अनुपात 9:16 है। उनकी संगत भुजाओं का अनुपात है:",
        "options_en": ["3:4", "4:3", "9:16", "16:9"],
        "options_hi": ["3:4", "4:3", "9:16", "16:9"],
        "answer": "3:4",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 42,
        "question_en": "The value of (cos60° + sin30°) is:",
        "question_hi": "(cos60° + sin30°) का मान है:",
        "options_en": ["0", "1/2", "1", "2"],
        "options_hi": ["0", "1/2", "1", "2"],
        "answer": "1",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 43,
        "question_en": "The coordinates of the centroid of a triangle with vertices (2, 3), (4, 5) and (6, 7) are:",
        "question_hi": "शीर्षों (2, 3), (4, 5) और (6, 7) वाले त्रिभुज के केन्द्रक के निर्देशांक हैं:",
        "options_en": ["(3, 4)", "(4, 5)", "(5, 6)", "(6, 7)"],
        "options_hi": ["(3, 4)", "(4, 5)", "(5, 6)", "(6, 7)"],
        "answer": "(4, 5)",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 44,
        "question_en": "The nature of roots of the quadratic equation x² + x + 1 = 0 is:",
        "question_hi": "द्विघात समीकरण x² + x + 1 = 0 के मूलों की प्रकृति है:",
        "options_en": ["Real and distinct", "Real and equal", "Imaginary", "None of these"],
        "options_hi": ["वास्तविक और भिन्न", "वास्तविक और समान", "काल्पनिक", "इनमें से कोई नहीं"],
        "answer": "Imaginary",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 45,
        "question_en": "The 15th term of the AP: 3, 6, 9, 12,... is:",
        "question_hi": "समांतर श्रेणी 3, 6, 9, 12,... का 15वाँ पद है:",
        "options_en": ["30", "36", "42", "45"],
        "options_hi": ["30", "36", "42", "45"],
        "answer": "45",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 46,
        "question_en": "The value of sec(30°) is:",
        "question_hi": "sec(30°) का मान है:",
        "options_en": ["1/2", "2/√3", "√3/2", "2"],
        "options_hi": ["1/2", "2/√3", "√3/2", "2"],
        "answer": "2/√3",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 47,
        "question_en": "The area of a rhombus with diagonals 8 cm and 10 cm is:",
        "question_hi": "8 cm और 10 cm विकर्ण वाले समचतुर्भुज का क्षेत्रफल है:",
        "options_en": ["20 cm²", "40 cm²", "60 cm²", "80 cm²"],
        "options_hi": ["20 cm²", "40 cm²", "60 cm²", "80 cm²"],
        "answer": "40 cm²",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 48,
        "question_en": "The value of (sinθ/cosθ) is:",
        "question_hi": "(sinθ/cosθ) का मान है:",
        "options_en": ["cotθ", "tanθ", "secθ", "cosecθ"],
        "options_hi": ["cotθ", "tanθ", "secθ", "cosecθ"],
        "answer": "tanθ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 49,
        "question_en": "The circumference of a circle with diameter 14 cm is: (π=22/7)",
        "question_hi": "14 cm व्यास वाले वृत्त की परिधि है: (π=22/7)",
        "options_en": ["22 cm", "44 cm", "66 cm", "88 cm"],
        "options_hi": ["22 cm", "44 cm", "66 cm", "88 cm"],
        "answer": "44 cm",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 50,
        "question_en": "The value of (1 + cot²θ) is equal to:",
        "question_hi": "(1 + cot²θ) का मान बराबर है:",
        "options_en": ["sin²θ", "cos²θ", "sec²θ", "cosec²θ"],
        "options_hi": ["sin²θ", "cos²θ", "sec²θ", "cosec²θ"],
        "answer": "cosec²θ",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 51,
        "question_en": "The sum of the first 20 odd natural numbers is:",
        "question_hi": "प्रथम 20 विषम प्राकृतिक संख्याओं का योग है:",
        "options_en": ["210", "300", "400", "420"],
        "options_hi": ["210", "300", "400", "420"],
        "answer": "400",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 52,
        "question_en": "The probability of getting a prime number when a die is rolled is:",
        "question_hi": "एक पासा फेंकने पर अभाज्य संख्या आने की प्रायिकता है:",
        "options_en": ["1/6", "1/3", "1/2", "2/3"],
        "options_hi": ["1/6", "1/3", "1/2", "2/3"],
        "answer": "1/2",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 53,
        "question_en": "The total surface area of a cube with edge 5 cm is:",
        "question_hi": "5 cm किनारे वाले घन का संपूर्ण पृष्ठीय क्षेत्रफल है:",
        "options_en": ["125 cm²", "150 cm²", "175 cm²", "200 cm²"],
        "options_hi": ["125 cm²", "150 cm²", "175 cm²", "200 cm²"],
        "answer": "150 cm²",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 54,
        "question_en": "The value of (√3 × √12) is:",
        "question_hi": "(√3 × √12) का मान है:",
        "options_en": ["3", "6", "9", "12"],
        "options_hi": ["3", "6", "9", "12"],
        "answer": "6",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 55,
        "question_en": "The ratio of the volumes of two cubes is 1:8. The ratio of their surface areas is:",
        "question_hi": "दो घनों के आयतनों का अनुपात 1:8 है। उनके पृष्ठीय क्षेत्रफलों का अनुपात है:",
        "options_en": ["1:2", "1:4", "1:6", "1:8"],
        "options_hi": ["1:2", "1:4", "1:6", "1:8"],
        "answer": "1:4",
        "attempted": false,
        "selected": ""
    },
    {
        "num": 56,
        "question_en": "The value of (sin60° × cos30°) is:",
        "question_hi": "(sin60° × cos30°) का मान है:",
        "options_en": ["1/4", "1/2", "3/4", "1"],
        "options_hi": ["1/4", "1/2", "3/4", "1"],
        "answer": "3/4",
        "attempted": false,
        "selected": ""
    },







];
    

// Add more questions as needed...

let currentQuestion = 0;
let language = "en"; // Default English
const circlesPerPage = 70;
let currentCirclePage = 0;
let timeLeft = 300;
let timerInterval;

function loadQuestion(index) {
    const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
    const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

    document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
    document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    optionsArray.forEach(option => {
        optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
    });

    updateCircles();
}

function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateCircles();
}

function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function updateCircles() {
    const circleContainer = document.getElementById("circleContainer");
    circleContainer.innerHTML = "";
    const start = currentCirclePage * circlesPerPage;
    const end = Math.min(start + circlesPerPage, questions.length);

    for (let i = start; i < end; i++) {
        const q = questions[i];
        let status = i === currentQuestion ? "active" : q.attempted ? "answered" : "not-attempted";
        circleContainer.innerHTML += `<div class="circle ${status}" onclick="jumpToQuestion(${i})">${i + 1}</div>`;
    }
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

function prevCirclePage() {
    if (currentCirclePage > 0) {
        currentCirclePage--;
        updateCircles();
    }
}

function nextCirclePage() {
    if ((currentCirclePage + 1) * circlesPerPage < questions.length) {
        currentCirclePage++;
        updateCircles();
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    let attempted = 0, notAttempted = 0, score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer) score++;
        } else {
            notAttempted++;
        }
        results.push({ question: q.question_en, selected: q.selected || "Not Answered", correct: q.answer });
    });

    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
    if (viewResult) {
        window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
    }
}

function startTimer() {
    const timerElement = document.getElementById("timer");
    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Submitting the quiz automatically.");
            submitQuiz();
        } else {
            timerElement.textContent = timeLeft;
            timeLeft--;
        }
    }, 1000);
}

window.onload = function () {
    startTimer();
    loadQuestion(currentQuestion);
};