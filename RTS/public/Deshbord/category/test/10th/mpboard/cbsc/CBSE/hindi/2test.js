const questions = [


    {
        "num": 1,
        "question_en": "Who is the author of the poem 'सूरदास के पद'?",
        "question_hi": "'सूरदास के पद' कविता के रचयिता कौन हैं?",
        "options_en": ["तुलसीदास", "सूरदास", "मीराबाई", "कबीर"],
        "options_hi": ["तुलसीदास", "सूरदास", "मीराबाई", "कबीर"],
        "answer": "सूरदास",
        "answer_hi": "सूरदास",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 2,
        "question_en": "In the story 'नेताजी का चश्मा', what was missing from Netaji's statue?",
        "question_hi": "'नेताजी का चश्मा' कहानी में नेताजी की मूर्ति पर क्या गायब था?",
        "options_en": ["Hat", "Sword", "Glasses", "Shoes"],
        "options_hi": ["टोपी", "तलवार", "चश्मा", "जूते"],
        "answer": "Glasses",
        "answer_hi": "चश्मा",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 3,
        "question_en": "Who used to put a new frame on Netaji's statue?",
        "question_hi": "नेताजी की मूर्ति पर नया फ्रेम कौन लगाता था?",
        "options_en": ["A soldier", "A politician", "A school teacher", "A common man"],
        "options_hi": ["एक सैनिक", "एक राजनेता", "एक स्कूल शिक्षक", "एक आम आदमी"],
        "answer": "A common man",
        "answer_hi": "एक आम आदमी",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 4,
        "question_en": "Who is the author of 'लखनवी अंदाज़'?",
        "question_hi": "'लखनवी अंदाज़' के लेखक कौन हैं?",
        "options_en": ["यशपाल", "प्रेमचंद", "जयशंकर प्रसाद", "महादेवी वर्मा"],
        "options_hi": ["यशपाल", "प्रेमचंद", "जयशंकर प्रसाद", "महादेवी वर्मा"],
        "answer": "यशपाल",
        "answer_hi": "यशपाल",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 5,
        "question_en": "In 'आत्मकथ्य', the poet compares his life to what?",
        "question_hi": "'आत्मकथ्य' में कवि अपने जीवन की तुलना किससे करते हैं?",
        "options_en": ["A flowing river", "A beautiful garden", "A silent story", "A bright star"],
        "options_hi": ["एक बहती नदी", "एक सुंदर बगीचा", "एक मौन कहानी", "एक चमकीला तारा"],
        "answer": "A silent story",
        "answer_hi": "एक मौन कहानी",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 6,
        "question_en": "Who is the poet of 'उत्साह'?",
        "question_hi": "'उत्साह' कविता के कवि कौन हैं?",
        "options_en": ["नागार्जुन", "सूर्यकांत त्रिपाठी निराला", "शिवमंगल सिंह 'सुमन'", "रामधारी सिंह 'दिनकर'"],
        "options_hi": ["नागार्जुन", "सूर्यकांत त्रिपाठी निराला", "शिवमंगल सिंह 'सुमन'", "रामधारी सिंह 'दिनकर'"],
        "answer": "सूर्यकांत त्रिपाठी निराला",
        "answer_hi": "सूर्यकांत त्रिपाठी निराला",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 7,
        "question_en": "What does 'अट नहीं रही है' poem describe?",
        "question_hi": "'अट नहीं रही है' कविता में किसका वर्णन है?",
        "options_en": ["The beauty of the night", "The arrival of spring", "The sadness of separation", "The joy of meeting"],
        "options_hi": ["रात की सुंदरता", "वसंत का आगमन", "वियोग का दुख", "मिलन की खुशी"],
        "answer": "The arrival of spring",
        "answer_hi": "वसंत का आगमन",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 8,
        "question_en": "In 'राम-लक्ष्मण-परशुराम संवाद', what is Parshuram's dominant emotion?",
        "question_hi": "'राम-लक्ष्मण-परशुराम संवाद' में परशुराम की प्रमुख भावना क्या है?",
        "options_en": ["Love", "Compassion", "Anger", "Fear"],
        "options_hi": ["प्रेम", "करुणा", "क्रोध", "डर"],
        "answer": "Anger",
        "answer_hi": "क्रोध",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 9,
        "question_en": "Who is the author of 'राम-लक्ष्मण-परशुराम संवाद'?",
        "question_hi": "'राम-लक्ष्मण-परशुराम संवाद' के लेखक कौन हैं?",
        "options_en": ["सूरदास", "तुलसीदास", "कबीर", "रहीम"],
        "options_hi": ["सूरदास", "तुलसीदास", "कबीर", "रहीम"],
        "answer": "तुलसीदास",
        "answer_hi": "तुलसीदास",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 10,
        "question_en": "What is the main idea of the poem 'कन्यादान'?",
        "question_hi": "'कन्यादान' कविता का मुख्य विचार क्या है?",
        "options_en": ["The beauty of marriage", "The pain of separation", "The empowerment of women", "The importance of rituals"],
        "options_hi": ["विवाह की सुंदरता", "वियोग का दर्द", "महिलाओं का सशक्तिकरण", "रीतियों का महत्व"],
        "answer": "The empowerment of women",
        "answer_hi": "महिलाओं का सशक्तिकरण",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 11,
        "question_en": "Who is the poet of 'कन्यादान'?",
        "question_hi": "'कन्यादान' कविता के कवि कौन हैं?",
        "options_en": ["सुमित्रानंदन पंत", "माखनलाल चतुर्वेदी", "गिरिजाकुमार माथुर", "अज्ञेय"],
        "options_hi": ["सुमित्रानंदन पंत", "माखनलाल चतुर्वेदी", "गिरिजाकुमार माथुर", "अज्ञेय"],
        "answer": "गिरिजाकुमार माथुर",
        "answer_hi": "गिरिजाकुमार माथुर",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 12,
        "question_en": "In 'मानवीय करुणा की दिव्या चमक', who is the central figure?",
        "question_hi": "'मानवीय करुणा की दिव्या चमक' में केंद्रीय व्यक्ति कौन हैं?",
        "options_en": ["A social worker", "A religious leader", "A scientist", "A priest"],
        "options_hi": ["एक समाज सेवक", "एक धार्मिक नेता", "एक वैज्ञानिक", "एक पादरी"],
        "answer": "A priest",
        "answer_hi": "एक पादरी",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 13,
        "question_en": "Who is the author of 'मानवीय करुणा की दिव्या चमक'?",
        "question_hi": "'मानवीय करुणा की दिव्या चमक' के लेखक कौन हैं?",
        "options_en": ["सर्वेश्वरदयाल सक्सेना", "रामवृक्ष बेनीपुरी", "शिवपूजन सहाय", "हजारी प्रसाद द्विवेदी"],
        "options_hi": ["सर्वेश्वरदयाल सक्सेना", "रामवृक्ष बेनीपुरी", "शिवपूजन सहाय", "हजारी प्रसाद द्विवेदी"],
        "answer": "सर्वेश्वरदयाल सक्सेना",
        "answer_hi": "सर्वेश्वरदयाल सक्सेना",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 14,
        "question_en": "Identify the adjective in the sentence: 'वह सुंदर लड़की है'.",
        "question_hi": "वाक्य 'वह सुंदर लड़की है' में विशेषण पहचानें।",
        "options_en": ["वह", "सुंदर", "लड़की", "है"],
        "options_hi": ["वह", "सुंदर", "लड़की", "है"],
        "answer": "सुंदर",
        "answer_hi": "सुंदर",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 15,
        "question_en": "Identify the verb in the sentence: 'बच्चे खेल रहे हैं'.",
        "question_hi": "वाक्य 'बच्चे खेल रहे हैं' में क्रिया पहचानें।",
        "options_en": ["बच्चे", "खेल", "रहे", "हैं"],
        "options_hi": ["बच्चे", "खेल", "रहे", "हैं"],
        "answer": "खेल रहे हैं",
        "answer_hi": "खेल रहे हैं",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 16,
        "question_en": "Identify the noun in the sentence: 'दिल्ली भारत की राजधानी है'.",
        "question_hi": "वाक्य 'दिल्ली भारत की राजधानी है' में संज्ञा पहचानें।",
        "options_en": ["दिल्ली", "भारत", "राजधानी", "सभी"],
        "options_hi": ["दिल्ली", "भारत", "राजधानी", "सभी"],
        "answer": "सभी",
        "answer_hi": "सभी",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 17,
        "question_en": "Identify the pronoun in the sentence: 'तुम कहाँ जा रहे हो?'",
        "question_hi": "वाक्य 'तुम कहाँ जा रहे हो?' में सर्वनाम पहचानें।",
        "options_en": ["तुम", "कहाँ", "जा", "रहे हो"],
        "options_hi": ["तुम", "कहाँ", "जा", "रहे हो"],
        "answer": "तुम",
        "answer_hi": "तुम",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 18,
        "question_en": "What is the plural form of 'लड़की' (girl)?",
        "question_hi": "'लड़की' का बहुवचन रूप क्या है?",
        "options_en": ["लड़कियों", "लड़की", "लड़कियाँ", "लड़किया"],
        "options_hi": ["लड़कियों", "लड़की", "लड़कियाँ", "लड़किया"],
        "answer": "लड़कियाँ",
        "answer_hi": "लड़कियाँ",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 19,
        "question_en": "What is the opposite of 'दिन' (day)?",
        "question_hi": "'दिन' का विलोम शब्द क्या है?",
        "options_en": ["सुबह", "शाम", "रात", "दोपहर"],
        "options_hi": ["सुबह", "शाम", "रात", "दोपहर"],
        "answer": "रात",
        "answer_hi": "रात",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 20,
        "question_en": "What is the synonym of 'खुशी' (happiness)?",
        "question_hi": "'खुशी' का पर्यायवाची शब्द क्या है?",
        "options_en": ["गम", "दुःख", "प्रसन्नता", "उदासी"],
        "options_hi": ["गम", "दुःख", "प्रसन्नता", "उदासी"],
        "answer": "प्रसन्नता",
        "answer_hi": "प्रसन्नता",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 21,
        "question_en": "Identify the तत्सम शब्द in the following:",
        "question_hi": "निम्नलिखित में से तत्सम शब्द पहचानें:",
        "options_en": ["आग", "पानी", "दूध", "सूर्य"],
        "options_hi": ["आग", "पानी", "दूध", "सूर्य"],
        "answer": "सूर्य",
        "answer_hi": "सूर्य",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 22,
        "question_en": "Identify the तद्भव शब्द in the following:",
        "question_hi": "निम्नलिखित में से तद्भव शब्द पहचानें:",
        "options_en": ["ग्राम", "रात्रि", "हाथ", "कार्य"],
        "options_hi": ["ग्राम", "रात्रि", "हाथ", "कार्य"],
        "answer": "हाथ",
        "answer_hi": "हाथ",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 23,
        "question_en": "What type of Samas is 'चौराहा'?",
        "question_hi": "'चौराहा' किस प्रकार का समास है?",
        "options_en": ["द्विगु", "द्वंद्व", "तत्पुरुष", "अव्ययीभाव"],
        "options_hi": ["द्विगु", "द्वंद्व", "तत्पुरुष", "अव्ययीभाव"],
        "answer": "द्विगु",
        "answer_hi": "द्विगु",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 24,
        "question_en": "What is the संधि विच्छेद of 'सूर्योदय'?",
        "question_hi": "'सूर्योदय' का संधि विच्छेद क्या है?",
        "options_en": ["सूर्य + उदय", "सुर + योदय", "सूरय + उदय", "सुर + उदय"],
        "options_hi": ["सूर्य + उदय", "सुर + योदय", "सूरय + उदय", "सुर + उदय"],
        "answer": "सूर्य + उदय",
        "answer_hi": "सूर्य + उदय",
        "attempted": false,
        "selected": ""
      },
      {
        "num": 25,
        "question_en": "What is the उपसर्ग in the word 'अभिमान'?",
        "question_hi": "'अभिमान' शब्द में उपसर्ग क्या है?",
        "options_en": ["अभि", "मान", "अ", "अभिमा"],
        "options_hi": ["अभि", "मान", "अ", "अभिमा"],
        "answer": "अभि",
        "answer_hi": "अभि",
        "attempted": false,
        "selected": ""
      }
  
        
];

// Add more questions as needed...

let currentQuestion = 0;
let language = "en"; // Default English
const circlesPerPage = 70;
let currentCirclePage = 0;
let timeLeft = 300;
let timerInterval;

function loadQuestion(index) {
  const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
  const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

  document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
  document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

  const optionsElement = document.getElementById("options");
  optionsElement.innerHTML = "";

  optionsArray.forEach(option => {
    optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
  });

  updateCircles();
}

function markAttempted(index, selectedAnswer) {
  questions[index].attempted = true;
  questions[index].selected = selectedAnswer;
  updateCircles();
}

function nextQuestion() {
  if (currentQuestion < questions.length - 1) {
    currentQuestion++;
    loadQuestion(currentQuestion);
  }
}

function prevQuestion() {
  if (currentQuestion > 0) {
    currentQuestion--;
    loadQuestion(currentQuestion);
  }
}

function updateCircles() {
  const circleContainer = document.getElementById("circleContainer");
  circleContainer.innerHTML = "";
  const start = currentCirclePage * circlesPerPage;
  const end = Math.min(start + circlesPerPage, questions.length);

  for (let i = start; i < end; i++) {
    const q = questions[i];
    let status = i === currentQuestion ? "active" : q.attempted ? "answered" : "not-attempted";
    circleContainer.innerHTML += `<div class="circle ${status}" onclick="jumpToQuestion(${i})">${i + 1}</div>`;
  }
}

function jumpToQuestion(index) {
  currentQuestion = index;
  loadQuestion(index);
}

function prevCirclePage() {
  if (currentCirclePage > 0) {
    currentCirclePage--;
    updateCircles();
  }
}

function nextCirclePage() {
  if ((currentCirclePage + 1) * circlesPerPage < questions.length) {
    currentCirclePage++;
    updateCircles();
  }
}

function changeLanguage() {
  language = document.getElementById("languageSelect").value;
  loadQuestion(currentQuestion);
}

function submitQuiz() {
  let confirmation = confirm("Are you sure you want to submit the test?");
  if (!confirmation) return;

  let attempted = 0, notAttempted = 0, score = 0;
  const results = [];

  questions.forEach(q => {
      const correctAnswer = language === "en" ? q.answer_en : q.answer_hi;
      if (q.attempted) {
          attempted++;
          if (q.selected === correctAnswer) score++;
      } else {
          notAttempted++;
      }
      results.push({ 
          question: language === "en" ? q.question_en : q.question_hi,
          selected: q.selected || "Not Answered", 
          correct: correctAnswer 
      });
  });

  localStorage.setItem("attempted", attempted);
  localStorage.setItem("notAttempted", notAttempted);
  localStorage.setItem("score", score);
  localStorage.setItem("results", JSON.stringify(results));

  let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
  if (viewResult) {
      window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
  }
}

function startTimer() {
  const timerElement = document.getElementById("timer");
  timerInterval = setInterval(() => {
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      alert("Time's up! Submitting the quiz automatically.");
      submitQuiz();
    } else {
      timerElement.textContent = timeLeft;
      timeLeft--;
    }
  }, 1000);
}

window.onload = function () {
  startTimer();
  loadQuestion(currentQuestion);
};